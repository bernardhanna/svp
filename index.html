<!doctype html>
    <html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <title>HTML5-Starter-Pack</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="manifest" href="site.webmanifest">
        <link rel="apple-touch-icon" href="icon.png">
        <!-- Place favicon.ico in the root directory -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/bundle.css">

        <meta name="theme-color" content="#fafafa">
    </head>

    <body>

            <div class="giving_tree bg-black">
                <div id="snow-animation-container"></div>
                <div class="gt-body">
                    <div class="container-fluid position-relative p-0">
                        <div class="row top-row m-0 position-relative">
                            <div class="col-xxl-7 col-xl-7 col-lg-7 col-m-7 col-sm-12 content">
                               <h2>Gift of Choice Voucher Appeal</h2>
                               <h3>Help a family in need have a magical Christmas!</h3>
                               <p>Give the gift of choice this Christmas, it’s the most magical gift you could give a child in need. Please choose on the tree below who you’d like to buy a voucher for; imagine a child’s first bike, a new pair of pjs or a festive Christmas dinner! Your support will ensure that families in your local area can have the gift of choice to get what they need this Christmas.</p>
                            </div>
                            <div class="col-xxl-5 col-xl-5 col-lg-5 col-m-5 col-sm-12 logos">
                                <div class="me2go logo">
                                    <img class="img" src="img/me2u.png" alt="logo"/>
                                </div>
                                <div class="svp logo">
                                    <img class="img" src="img/logo.png" alt="logo"/>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="baubbles">
                                <a class="item" href=""><img class="img" src="img/bauble6.png" alt="baubles"/></a>
                                <a class="item" href=""><img class="img" src="img/bauble4.png" alt="baubles"/></a>
                                <a class="item" href=""><img class="img" src="img/bauble5.png" alt="baubles"/></a>
                                <a class="item" href=""><img class="img" src="img/bauble3.png" alt="baubles"/></a>
                                <a class="item" href=""><img class="img" src="img/bauble2.png" alt="baubles"/></a>
                                <a class="item" href=""><img class="img" src="img/bauble1.png" alt="baubles"/></a>
                            </div>
                        </div>
                        <img class="w-100 tree position-relative" src="img/main-btm.svg" alt="large tree"/>
                      </div>
                </div>
            </div>

        <script src="js/bundle.esm.js" type="module"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
        <script>
            $(document).ready(documentReady);

                function documentReady() {
                var MAX_SNOW = 200;
                var MAX_SNOW_SIZE = 7;
                var MAX_SNOW_SPEED = 1;

                snowStart();

                function snowStart() {
                    // console.log("// Snow animation start");
                    createSnows();
                }

                function createSnows() {

                    var container = $("#snow-animation-container");

                    for (var i = 0; i < MAX_SNOW; i++) {
                    var appendItem = getRandomItem(i);
                            container.append(appendItem);
                    var animateItem = $(".snow" + String(i));
                    var randomTime = Math.random() * MAX_SNOW_SPEED;
                    goAnimate(animateItem, i, randomTime);
                    goAnimate2(animateItem);
                    };

                    // console.log("// Create snows");
                }

                function goAnimate(item, id, randomTime) {
                    TweenMax.to(item, randomTime, {
                    css: {
                        marginTop: "+=100"
                    },
                    ease: Linear.easeNone,
                    onComplete: function() {
                        var topPosition = item.css("margin-top").replace("px", "");
                        if (topPosition > $(window).height()) {
                        changePosition(item);
                        randomTime = Math.random() * MAX_SNOW_SPEED;
                        goAnimate(item, id, randomTime);
                        } else {
                        goAnimate(item, id, randomTime);
                        }

                    }
                    });
                }

                function goAnimate2(item) {

                    var directionTime = 1 + Math.floor(Math.random() * 5);
                    var randomDirection = 1 + Math.floor(Math.random() * 4);
                    var delayTime = 1 + Math.floor(Math.random() * 3);

                    if (randomDirection == 1) {

                    TweenMax.to(item, directionTime, {
                        css: {
                        marginLeft: "+=100"
                        },
                        ease: Linear.easeOut,
                        onComplete: function() {

                        TweenMax.to(item, directionTime, {
                            css: {
                            marginLeft: "-=100"
                            },
                            delay: delayTime,
                            ease: Linear.easeOut,
                            onComplete: function() {
                            goAnimate2(item);
                            }
                        });
                        }
                    });
                    } else if (randomDirection == 2) {

                    TweenMax.to(item, directionTime, {
                        css: {
                        marginLeft: "-=100"
                        },
                        ease: Linear.easeOut,
                        onComplete: function() {
                        TweenMax.to(item, directionTime, {
                            css: {
                            marginLeft: "+=100"
                            },
                            delay: delayTime,
                            ease: Linear.easeOut,
                            onComplete: function() {

                            goAnimate2(item);

                            }
                        });
                        }
                    });
                    } else if (randomDirection == 3) {

                    TweenMax.to(item, directionTime, {
                        css: {
                        marginLeft: "+=100"
                        },
                        ease: Linear.easeOut,
                        onComplete: function() {
                        goAnimate2(item);
                        }
                    });
                    } else if (randomDirection == 4) {

                    TweenMax.to(item, directionTime, {
                        css: {
                        marginLeft: "-=100"
                        },
                        ease: Linear.easeOut,
                        onComplete: function() {
                        goAnimate2(item);
                        }
                    });
                    }
                }

                function changePosition(item) {
                    var _width = Math.floor(Math.random() * MAX_SNOW_SIZE);
                    var _height = _width;
                    var _blur = Math.floor(Math.random() * 5 + 2);
                    var _left = Math.floor(Math.random() * ($(window).width() - _width));
                    var _top = -$(window).height() + Math.floor(Math.random() * ($(window).height() - _height));

                    item.css("width", _width);
                    item.css("height", _height);
                    item.css("margin-left", _left);
                    item.css("margin-top", _top);
                    item.css("-webkit-filter", "blur(" + String(_blur) + "px)");
                    item.css("-moz-filter", "blur(" + String(_blur) + "px)");
                    item.css("-o-filter", "blur(" + String(_blur) + "px)");
                    item.css("-ms-filter", "blur(" + String(_blur) + "px)");
                    item.css("filter", "blur(" + String(_blur) + "px)");
                }

                function getRandomItem(id) {
                    var _width = Math.floor(Math.random() * MAX_SNOW_SIZE);
                    var _height = _width;
                    var _blur = Math.floor(Math.random() * 5 + 2);
                    var _left = Math.floor(Math.random() * ($(window).width() - _width));
                    var _top = -$(window).height() + Math.floor(Math.random() * ($(window).height() - _height));
                    var _id = id;

                    return getSmallSnow(_width, _height, _blur, _left, _top, _id);
                }

                function getSmallSnow(width, height, blur, left, top, id) {
                    var item = "<div class='snow" + id + "' style='position:absolute; margin-left: " + left + "px; margin-top: " + top + "px; width: " + width + "px; height: " + height + "px; border-radius: 50%; background-color: white; -webkit-filter: blur(" + blur + "px); -moz-filter: blur(" + blur + "px); -o-filter: blur(" + blur + "px); -ms-filter: blur(" + blur + "px); filter: blur(" + blur + "px);'></div>"
                    return item;
                }

                }
                        </script>
    </body>
</html>
